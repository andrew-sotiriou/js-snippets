<!doctype html> <html lang=en> <head> <meta charset=utf-8 /> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width,initial-scale=1"/> <title>JS Snippets</title> </head> <body> <h1>Page of Javascript Snippets</h1> <h2 class=section-header>Arrays</h2> <div class=section-container> <div id=array-map-container class=code-container> <p class=code-title>MAP</p> <p class=code-reason>Use MAP when you want to perform the same action on every item in an array</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const mapNumbers = [1, 2, 3, 4, 5];<br/> let mapValue = mapNumbers.map(number => number * number); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> <div id=array-filter-container class=code-container> <p class=code-title>FILTER</p> <p class=code-reason>Use FILTER when you only want items that match a certain criteria</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const filterThings = ['desk', 'chair', 5, 'backpack', 3.14, 100];<br/> let filterOnlyNumbers = filterThings.filter(thing => typeof thing === 'number'); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> <div id=array-reduce-container class=code-container> <p class=code-title>Reduce</p> <p class=code-reason>Use REDUCE when you want to use the values in an existing array to create something new</p> <div class="code-snippet-container example1"> <p class=code-snippet-example>Example 1:</p> <p class=code-snippet> const reduceNameArray = ['adam', 'nancy', 'damain', 'ramona', 'evan', 'wendy'];<br/> let reduceValue = reduceNameArray.reduce((acc, currVal) => { return acc + currVal[0] }, ""); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> <div class="code-snippet-container example2"> <p class=code-snippet-example>Example 2:</p> <p class=code-snippet> const reduceNums = [1, 2, 3, 4,];<br/> let reduceSum = reduceNums.reduce((acc, val) => acc + val, 1); </p> <p class=code-output>Output:</p> <p class=example-output2></p> </div> </div> <div id=array-foreach-container class=code-container> <p class=code-title>FOREACH</p> <p class=code-reason>Use FOREACH when you want to run something on each element in an array</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> let foreachNums = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];<br/> foreachNums.forEach( (num, i, array) => {if (num%2 == 0) array.splice(i,1)}); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> <div id=array-every-container class=code-container> <p class=code-title>EVERY</p> <p class=code-reason>Use EVERY if you want to return a boolean. Every will check every element and will evaluate to true if every element evaluates to true.</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const everyNums = [1, 50, 75, 200, 350, 525, 1000];<br/> let everyNumsValue = everyNums.every(num => num > 0); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> <div id=array-sort-container class=code-container> <p class=code-title>SORT</p> <p class=code-reason>Use SORT to sort elements or numbers</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> let sortNums = [23, 22, 4, 16, 8, 42, 15]; sortNums.sort(); </p> <p class=code-output>Output:</p> <p class=example-output></p> <p class=code-snippet> //We can also reverse the sort<br/> sortNums.reverse(); </p> <p class=code-output>Output:</p> <p class=example-output1-reversed></p> <p class=code-snippet-example>Example 2:</p> <p class=code-snippet> //To sort numbers we need to use a compare function let sortNums = [23, 22, 4, 16, 8, 42, 15]; sortNums.sort((a, b) => a - b); </p> <p class=code-output>Output:</p> <p class=example-output2></p> </div> </div> <div id=array-nondups-container class=code-container> <p class=code-title>Check two arrays for non-duplicates</p> <p class=code-reason>One way would have been to write a for loop and do a check with indexOf though we with the updated JS code as of ES6 we can use a filter and include method.</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> //Arrays to check <br/> const nondupsList1 = [1,2,3,4,5,6,7];<br/> const nondupsList2 = [1,2,3,4];<br/> //ForLoop Array to push non-dups:<br/> let nondupsMatchLoop = []; <br/> //For Loop:<br/> for(var k=0; k &#60; nondupsList1.length; k++) {<br/> <span class=indent-20>if(nondupsList2.indexOf(nondupsList1[k])==-1) {</span><br/> <span class=indent-40>nondupsMatchLoop.push(nondupsList1[k]);</span><br/> <span class=indent-20>}</span><br/> } </p> <p class=code-output>Output:</p> <p class=example-output></p> <p class=code-snippet> //Using Filter and Include methods:<br/> let nondupsMatchFilter = nondupsList1.filter(val => !nondupsList2.includes(val)); </p> <p class=code-output>Output:</p> <p class=example-output2></p> </div> </div> </div> <h2 class=section-header>Objects</h2> <div class=section-container> <div id=object-objkey-container class=code-container> <p class=code-title>Object Keys to Array</p> <p class=code-reason>This is a function to take the keys in an Object and turn them into an array</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const playObject = {<br/> <span class=indent-20>key1: "value1",</span><br/> <span class=indent-20>key2: "value2",</span><br/> <span class=indent-20>key3: "value3",</span><br/> <span class=indent-20>key4: "value4",</span><br/> <span class=indent-20>key5: "value5"</span><br/> }<br/> function objKeyArray(object){<br/> <span class=indent-20>let keyArray=[];</span><br/> <span class=indent-20>for (var key in object) {</span><br/> <span class=indent-40>keyArray.push(key);</span><br/> <span class=indent-20>}</span><br/> <span class=indent-20>return keyArray;</span><br/> } </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> <div id=object-objvalue-container class=code-container> <p class=code-title>Object Values to Array</p> <p class=code-reason>This is a function to take the values in an Object and turn them into an array</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const playObject = {<br/> <span class=indent-20>key1: "value1",</span><br/> <span class=indent-20>key2: "value2",</span><br/> <span class=indent-20>key3: "value3",</span><br/> <span class=indent-20>key4: "value4",</span><br/> <span class=indent-20>key5: "value5"</span><br/> }<br/> function objValueArray(object) {<br/> <span class=indent-20>let valueArray=[];</span><br/> <span class=indent-20>for (var key in object) {</span><br/> <span class=indent-40>valueArray.push(object[key]);</span><br/> <span class=indent-20>}</span><br/> <span class=indent-20>return valueArray;</span><br/> } </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> </div> <h2 class=section-header>Network Calls</h2> <div class=section-container> <div id=ajax-original-container class=code-container> <p class=code-title>Original AJAX</p> <p class=code-reason>Original AJAX request</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const xhr = new XMLHttpRequest;<br/> const url = "https://api.chucknorris.io/jokes/random";<br/> xhr.responseType = "json";<br/> xhr.onreadystatechange = function() {<br/> <span class=indent-20>if (xhr.readyState === XMLHttpRequest.DONE) {</span><br/> <span class=indent-40>if (xhr.status === 200) {</span><br/> <span class=indent-60>return xhr.response;</span><br/> <span class=indent-40>}</span><br/> <span class=indent-40>else {</span><br/> <span class=indent-60>return `Error ${xhr.status}`;</span><br/> <span class=indent-40>}<br/> <span class=indent-20>}<br/> };<br/> xhr.open('GET', url, true);<br/> xhr.send(); </span></span></p> <p class=code-output>Response Output:</p> <p class=example-output></p> </div> </div> <div id=ajax-jquery-container class=code-container> <p class=code-title>JQuery AJAX</p> <p class=code-reason>JQuery AJAX requests can be viewed <a href=/jquery.html>here</a></p> </div> <div id=ajax-fetch-container class=code-container> <p class=code-title>FETCH API</p> <p class=code-reason>FETCH request. This is a sample GET request. This new method allows for an easy asynchronously way to get resources from the network.</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> let fetchURL = "https://taco-randomizer.herokuapp.com/random/";<br/> fetch(fetchURL)<br/> .then(response => {<br/> <span class=indent-20>return response.json();</span><br/> },<br/> networkError => { doSomething(networkError.message); })<br/> .then(data => {<br/> <span class=indent-20>doSomething(data);</span><br/> })<br/> .catch(error => {<br/> <span class=indent-20>doSomething(error);</span><br/> }); </p> <p class=code-output>Response Output:</p> <p class=example-output></p> </div> </div> <div id=ajax-fetchpost-container class=code-container> <p class=code-title>FETCH POST API</p> <p class=code-reason>FETCH POST request. This is a sample POST request. This new method allows for an easy asynchronously way to get resources from the network.</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> let fetchPOSTurl = "https://reqres.in/api/users";<br/> let fetchPostData = {<br/> <span class=indent-20>method: 'POST',</span><br/> <span class=indent-20>body: {</span><br/> <span class=indent-40>name: "Bilbo Baggins",</span><br/> <span class=indent-40>movies: ["Fellowship of the Ring"]</span><br/> <span class=indent-20>}</span><br/> }<br/> fetch(fetchPOSTurl, fetchPostData)<br/> .then(response => {<br/> <span class=indent-20>return response.json();</span><br/> },<br/> networkError => { doSomething(networkError.message); })<br/> .then(data => {<br/> <span class=indent-20>doSomething(data);</span><br/> })<br/> .catch(error => {<br/> <span class=indent-20>doSomething(error);</span><br/> }); </p> <p class=code-output>Response Output:</p> <p class=example-output></p> </div> </div> <div id=ajax-asyncawait-container class=code-container> <p class=code-title>FETCH Async/Await</p> <p class=code-reason>FETCH Get request with async/await. This is a sample Get request using async/await.</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const fetchAsync = async (fetchAsynURL) => {<br/> <span class=indent-20>const response = await fetch(fetchAsynURL);</span><br/> <span class=indent-20>if (!response.ok) {</span><br/> <span class=indent-40>throw new Error('Request failed!');</span><br/> <span class=indent-20>}</span><br/> <span class=indent-20>const data = await response.text();</span><br/> <span class=indent-20>return data;</span><br/> };<br/> fetchAsync('http://numbersapi.com/random/trivia')<br/> .then(data => {<br/> <span class=indent-20>doSomething(data);</span><br/> })<br/> .catch(error => {<br/> <span class=indent-20>doSomething(error);</span><br/> }); </p> <p class=code-output>Response Output:</p> <p class=example-output></p> </div> </div> <div id=ajax-asyncawaitpost-container class=code-container> <p class=code-title>FETCH POST Async/Await</p> <p class=code-reason>FETCH POST request with async/await. This is a sample Post request using async/await.</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> const fetchAsyncPOST = async (fetchAsyncPOSTURL, options) => {<br/> <span class=indent-20>const response = await fetch(fetchAsyncPOSTURL, options);</span><br/> <span class=indent-20>if (!response.ok) {</span><br/> <span class=indent-40>throw new Error('Request failed!');</span><br/> <span class=indent-20>}</span><br/> <span class=indent-20>const data = await response.json();</span><br/> <span class=indent-20>return data;</span><br/> };<br/> let postOptions = {<br/> <span class=indent-20>method: 'POST',</span><br/> <span class=indent-20>body: {</span><br/> <span class=indent-40>name: "Geddy Lee",</span><br/> <span class=indent-40>bands: ["RUSH"]</span><br/> <span class=indent-20>}</span><br/> };<br/> fetchAsyncPOST('https://reqres.in/api/users', postOptions)<br/> .then(data => {<br/> <span class=indent-20>doSomething(data);</span><br/> })<br/> .catch(error => {<br/> <span class=indent-20>doSomething(error);</span><br/> }); </p> <p class=code-output>Response Output:</p> <p class=example-output></p> </div> </div> </div> <h2 class=section-header>Promises</h2> <div class=section-container> <div id=promises-simple-container class=code-container> <p class=code-title>Simple Promise</p> <p class=code-reason>A Promise is an operation that hasn't completed yet but will in the future. Promises allow us to chain .then calls so that we can avoid the <a href=https://en.wikipedia.org/wiki/Pyramid_of_doom_(programming)>pyramid of doom</a>.</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> let simplePromise = new Promise((resolve, reject) => {<br/> <span class=indent-20>let num = Math.random();</span><br/> <span class=indent-20>if (num &#60; .5 ){</span><br/> <span class=indent-40>resolve('This is a successful promise and makes us happy');</span><br/> <span class=indent-20>} </span><br/> <span class=indent-20>else {</span><br/> <span class=indent-40>reject('This is an unsuccessful promise and makes us sad');</span><br/> <span class=indent-20>}</span><br/> });<br/> simplePromise<br/> <span class=indent-20>.then((resolvedValue) => {</span><br/> <span class=indent-40>console.log(resolvedValue);</span><br/> <span class=indent-20>})</span><br/> <span class=indent-20>.catch((rejectionReason) => {</span><br/> <span class=indent-40>console.log(rejectionReason);</span><br/> <span class=indent-20>});</span><br/> </p> <p class=code-output>Response Output:</p> <p class=example-output></p> </div> </div> <div id=promises-all-container class=code-container> <p class=code-title>Promise.ALL</p> <p class=code-reason>Promise.all will allow you to run multiple promises async and will return once all of them have completed. NOTE: If one promise is rejected (errors out) .all will immediately reject with that error.</p> <div class=code-snippet> <p class=code-snippet-example>Example Successful Promise.all:</p> <p class=code-snippet> Promise.all([<br/> <span class=indent-20>new Promise(resolve => setTimeout(() => resolve(1), 3000)),</span><br/> <span class=indent-20>new Promise(resolve => setTimeout(() => resolve(2), 2000)),</span><br/> <span class=indent-20>new Promise(resolve => setTimeout(() => resolve(3), 1000))</span><br/> ])<br/> .then(values => doSomething(values))<br/> .catch(error => doSomething(error)); </p> <p class=code-output>Response Output:</p> <p class=example-output></p> <p class=code-snippet-example>Example Unsuccessful Promise.all:</p> <p class=code-snippet> Promise.all([<br/> <span class=indent-20>new Promise((resolve, reject) => setTimeout(() => resolve(1), 1000)),</span><br/> <span class=indent-20>new Promise((resolve, reject) => setTimeout(() => reject(new Error("Whoops!")), 2000)),</span><br/> <span class=indent-20>new Promise((resolve, reject) => setTimeout(() => resolve(3), 3000))</span><br/> ])<br/> .then(values => doSomething(values))<br/> .catch(error => doSomething(error));<br/> </p> <p class=code-output>Output:</p> <p class=example-output2></p> </div> </div> <div id=promises-race-container class=code-container> <p class=code-title>Promise.RACE</p> <p class=code-reason>Promise.race allows you to pass promises like .all BUT .race will return a resolve or reject based on the promise that finishes running first.</p> <div class=code-snippet> <p class=code-snippet-example>Example:</p> <p class=code-snippet> Promise.race([<br/> <span class=indent-20>new Promise(resolve => setTimeout(() => resolve(1), 3000)),</span><br/> <span class=indent-20>new Promise(resolve => setTimeout(() => resolve(2), 2000)),</span><br/> <span class=indent-20>new Promise(resolve => setTimeout(() => resolve(3), 1000))</span><br/> ])<br/> .then(values => doSomething(error))<br/> .catch(error => doSomething(error)); </p> <p class=code-output>Response Output:</p> <p class=example-output></p> </div> </div> </div> <h2 class=section-header>Other</h2> <div class=section-container> <div id=other-age-container class=code-container> <p class=code-title>Age Check</p> <p class=code-reason>Simple Function to check a persons age</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> function getAge (bday){<br/> <span class=indent-20>var today = new Date();</span><br/> <span class=indent-20>var birthDate = new Date(bday);</span><br/> <span class=indent-20>var age = today.getFullYear() - birthDate.getFullYear();</span><br/> <span class=indent-20>var m = today.getMonth() - birthDate.getMonth();</span><br/> <span class=indent-20>if (m &#60; 0 || (m === 0 && today.getDate() &#60; birthDate.getDate())) {</span><br/> <span class=indent-40>age--;</span><br/> <span class=indent-20>}</span><br/> <span class=indent-20>doSomething(age);</span><br/> }<br/> getAge('01/01/1980'); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> <div id=other-name-container class=code-container> <p class=code-title>Name Check</p> <p class=code-reason>Simple Function to check a persons name meets the Regex Criteria</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> function checkName(name){<br/> <span class=indent-20>var regex = /^[a-zA-x]{2,30}$/;</span><br/> <span class=indent-20>if( !((name != null && name != undefined) && regex.test(name)) ){</span><br/> <span class=indent-40>doSomething('Invalid Name');</span><br/> <span class=indent-20>}</span><br/> <span class=indent-20>else {</span><br/> <span class=indent-40>doSomething('Valid Name');</span><br/> <span class=indent-20>}</span><br/> }<br/> checkName('andrew'); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> <div id=other-url-container class=code-container> <p class=code-title>URL Check</p> <p class=code-reason>Simple Function to check that a URL meets the Regex Criteria</p> <div class=code-snippet-container> <p class=code-snippet-example>Example:</p> <p class=code-snippet> function checkURL(url){<br/> <span class=indent-20>var regex = /^(ftp|http|https):\/\/[^ "]+$/;</span><br/> <span class=indent-20>if ( !((url != null && url != undefined) && regex.test(url)) ) {</span><br/> <span class=indent-40>doSomething('Invalid URL');</span><br/> <span class=indent-20>}</span><br/> <span class=indent-20>else {</span><br/> <span class=indent-40>doSomething('Valid URL');</span><br/> <span class=indent-20>}</span><br/> }<br/> checkURL('http://www.google.com'); </p> <p class=code-output>Output:</p> <p class=example-output></p> </div> </div> </div> <script type="text/javascript" src="js/main.bundle.js"></script></body> </html>